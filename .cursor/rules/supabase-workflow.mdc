---
description: После каждого изменения в коде/миграциях — давать чек-лист действий в Supabase для синхронизации
alwaysApply: true
---

# Workflow: Supabase и CRM

## Правило

После **каждого** изменения, которое затрагивает Supabase (миграции, RLS, Edge Functions, env), обязательно в конце ответа добавлять блок:

**«Что сделать в Supabase»** — краткий пошаговый чек-лист для пользователя:
- какую миграцию запустить (скопировать в SQL Editor или `supabase db push`);
- что проверить в дашборде (таблицы, RLS, Storage);
- при изменении функций — как задеплоить (`supabase functions deploy`).

Цель: пользователь выполняет шаги в Supabase сразу после изменений в репозитории, CRM работает без перебоев и ничего не упускается.

## Когда добавлять чек-лист

- Создание или изменение файлов в `supabase/migrations/`
- Изменение `supabase/config.toml` или `supabase/functions/*`
- Изменение кода, которое предполагает новые таблицы/колонки/политики в БД
- Добавление переменных окружения, связанных с Supabase

Если изменение только в коде приложения (страницы, компоненты) и не требует изменений в БД или проекте Supabase — чек-лист можно не добавлять или написать «В Supabase ничего делать не нужно».
