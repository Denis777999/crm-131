# Доступ к проекту с любого устройства и сети

Проект использует **Next.js** (фронт + API) и **Supabase** (уже в облаке). Чтобы приложение было доступно вне локальной сети — с телефона, планшета, другого города — есть два подхода.

---

## Вариант 1: Быстрый доступ (туннель) — для теста и разработки

Приложение продолжает работать на вашем компьютере, но к нему можно зайти по ссылке из интернета с любого устройства.

### Cloudflare Tunnel (бесплатно, без регистрации для быстрого теста)

1. Установите **cloudflared**: https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/install-and-setup/installation/

   Для Windows (PowerShell от администратора):
   ```powershell
   winget install --id Cloudflare.cloudflared -e
   ```
   Или скачайте exe: https://github.com/cloudflare/cloudflared/releases

2. Запустите Next.js:
   ```bash
   npm run dev
   ```
   (приложение на http://localhost:3000)

3. В **новом** терминале создайте туннель:
   ```bash
   cloudflared tunnel --url http://localhost:3000
   ```
   В консоли появится ссылка вида `https://xxxx-xx-xx-xx-xx.trycloudflare.com` — ею можно открыть приложение с любого устройства в интернете.

**Плюсы:** быстро, бесплатно, не нужно деплоить.  
**Минусы:** ссылка меняется при каждом запуске туннеля; при выключении компьютера приложение недоступно.

---

### ngrok (альтернатива)

1. Регистрация: https://ngrok.com → скачайте ngrok.
2. Запустите `npm run dev`.
3. В другом терминале:
   ```bash
   ngrok http 3000
   ```
   В консоли будет URL вида `https://xxxx.ngrok.io` — открывайте его с любого устройства.

---

## Вариант 2: Постоянный доступ (деплой в облако)

Приложение размещается на сервере в интернете. Доступ по постоянному URL с любого устройства и сети, 24/7 (пока сервис не остановите).

### Рекомендация: Vercel (идеально для Next.js)

1. Залейте проект в **GitHub** (если ещё не залит):
   - Создайте репозиторий на github.com
   - В папке проекта:
     ```bash
     git init
     git add .
     git commit -m "Initial"
     git remote add origin https://github.com/ВАШ_ЛОГИН/ВАШ_РЕПО.git
     git push -u origin main
     ```

2. Зайдите на https://vercel.com и войдите через GitHub.

3. **Add New** → **Project** → выберите ваш репозиторий.

4. **Environment Variables** (важно):
   - `NEXT_PUBLIC_SUPABASE_URL` = значение из `.env.local`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY` = значение из `.env.local`
   - `SUPABASE_SERVICE_ROLE_KEY` = значение из `.env.local`

5. Нажмите **Deploy**. Через 1–2 минуты получите ссылку вида `https://ваш-проект.vercel.app`.

Этой ссылкой можно пользоваться с любого устройства и любой сети. Данные по-прежнему в Supabase (уже в облаке).

---

### Другие варианты деплоя

| Сервис   | Плюсы                    | Минусы              |
|----------|--------------------------|---------------------|
| **Vercel** | Бесплатный план, отлично под Next.js | —                   |
| **Netlify** | Простой деплой, бесплатный план | Нужна настройка под Next.js |
| **Railway** | Гибкость, БД и приложение в одном месте | Платный после лимита |
| **VPS** (DigitalOcean, Timeweb и т.д.) | Полный контроль      | Нужно настраивать сервер и домен |

---

## Что уже доступно из интернета

- **Supabase** (база, авторизация, RLS) — уже в облаке по `NEXT_PUBLIC_SUPABASE_URL`. Ничего дополнительно настраивать не нужно для доступа с других устройств.

## Что нужно сделать для «полного доступа»

- **Вариант 1:** запустить туннель (cloudflared или ngrok) и открывать приложение по выданной ссылке.
- **Вариант 2:** задеплоить Next.js на Vercel (или другой хостинг) и открывать приложение по постоянному URL.

После этого доступ будет «вне локальной сети» и с любых устройств — достаточно открыть в браузере одну и ту же ссылку (туннеля или Vercel).
